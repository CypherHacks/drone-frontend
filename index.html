<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SAGER â€¢ Drone Flying</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css" rel="stylesheet">
    <style>
      :root{
        --bg:#0f1115;
        --panel:#171a21;
        --muted:#2a2f3a;
        --text:#e6e8ee;
        --sub:#9aa3b2;
        --brand:#e11d48;
        --green:#10b981;
        --red:#ef4444;
      }
      *{ box-sizing:border-box }
      html, body, #root { height: 100%; margin: 0; background: var(--bg); color: var(--text); }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol; }
      .app { height:100%; display:grid; grid-template-rows: 56px 1fr; grid-template-columns: 72px 1fr; }
      header.appbar{
        grid-column: 1 / span 2;
        display:flex; align-items:center; justify-content:space-between;
        padding: 0 16px; background: #0b0d11; border-bottom:1px solid #141821;
      }
      .brand { display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:1px; }
      .brand .logo{ width:28px; height:28px; background:#e11d48; border-radius:6px; display:flex; align-items:center; justify-content:center; font-weight:900; }
      .brand .name{ font-size:18px }
      .top-actions{ display:flex; align-items:center; gap:14px }
      .icon-btn{ width:28px; height:28px; display:grid; place-items:center; border-radius:8px; background:transparent; border:1px solid #1f2430; cursor:pointer }
      .icon-btn img{ width:16px; height:16px; filter: invert(88%) sepia(3%) saturate(252%) hue-rotate(176deg) brightness(104%) contrast(88%); }
      .sep{ width:1px; height:24px; background:#232834; margin:0 4px }
      .user{ display:flex; flex-direction:column; }
      .user .hi{ font-size:12px; color:var(--text) }
      .user .role{ font-size:11px; color:var(--sub) ; margin-top:-2px}
      /* fixed main nav */
      .nav{
        grid-row: 2 / span 1;
        background: #0b0d11;
        border-right:1px solid #141821;
        display:flex; flex-direction:column; align-items:center; padding:12px 8px; gap:8px;
      }
      .nav .nav-item{
        width:48px; height:48px; border-radius:12px; display:grid; place-items:center; cursor:pointer;
        border:1px solid #1f2430; background:#10131a;
      }
      .nav .nav-item.active{ outline:2px solid var(--brand); }
      .nav .nav-item img{ width:22px; height:22px; filter: invert(88%) sepia(3%) saturate(252%) hue-rotate(176deg) brightness(104%) contrast(88%); }
      /* content area */
      .content{ position:relative; overflow:hidden; }
      .map-wrap { position:absolute; inset:0; }
      .map { position:absolute; inset:0; }
      /* flying panel */
      .panel{
        position:absolute; top:16px; left:16px; width:340px; max-height:calc(100% - 32px);
        background: var(--panel); border:1px solid #1f2430; border-radius:12px; overflow:hidden; display:flex; flex-direction:column;
      }
      .panel-header{
        padding:14px 14px; display:flex; justify-content:space-between; align-items:center; background:#12151c; border-bottom:1px solid #1f2430;
      }
      .panel-title{ font-weight:800; letter-spacing:.5px; font-size:14px }
      .panel-close{ background:transparent; border:none; color:var(--sub); cursor:pointer; font-size:18px; }
      .tabs{ display:flex; gap:6px; padding:10px 10px 0 10px; }
      .tab{ flex:1; text-align:center; font-size:12px; padding:8px 0; border-radius:8px; cursor:pointer; background:#11141a; border:1px solid #1f2430; color:var(--sub) }
      .tab.active{ background:#0d1117; color:var(--text); border-color:#2b3342 }
      .panel-body{ overflow:auto; padding:10px }
      .list-item{ background:#0f131b; border:1px solid #1f2430; border-radius:10px; padding:10px; margin-bottom:8px; cursor:pointer }
      .row{ display:flex; justify-content:space-between; align-items:center }
      .badge{ width:10px; height:10px; border-radius:50%; }
      .meta{ display:grid; grid-template-columns: 1fr 1fr; gap:6px; margin-top:6px; font-size:12px; color:var(--sub) }
      .meta div span{ color:var(--text) }
      .counter { position: absolute; right: 16px; bottom: 16px; background: #0b0d11; color:#fff; padding: 10px 12px; border-radius: 999px; border:1px solid #1f2430; font-size:12px}
      .counter strong{ margin-right:6px; }
      /* dashboard (placeholder) */
      .dashboard{ padding: 20px; }
      @media (max-width: 980px) {
        .panel{ width: 280px; }
      }

      /* HIGH-CONTRAST POPUP STYLES */
      .mapboxgl-popup.drone-popup .mapboxgl-popup-content{
        background: #ffffff;
        color: #0b1220;
        border-radius: 12px;
        padding: 10px 12px;
        border: 1px solid #e6e9ef;
        box-shadow: 0 8px 24px rgba(0,0,0,.22);
        font-size: 13px;
        line-height: 1.35;
      }
      .mapboxgl-popup.drone-popup .mapboxgl-popup-tip{
        border-top-color: #ffffff !important;
        border-bottom-color: #ffffff !important;
      }
      .drp{ display:flex; flex-direction:column; gap:6px; }
      .drp-top{ display:flex; align-items:center; gap:8px; }
      .drp-dot{ width:10px; height:10px; border-radius:50%; flex:0 0 auto; }
      .drp-title{ font-weight:800; font-size:13px; color:#0b1220; }
      .drp-sub{ color:#4b5565; font-size:12px; }
      .drp-grid{ display:grid; grid-template-columns:auto 1fr; gap:6px 12px; margin-top:2px; }
      .drp-label{ color:#6b7280; }
      .drp-value{ color:#0b1220; font-weight:600; }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
